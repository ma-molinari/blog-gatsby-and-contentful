{"version":3,"sources":["webpack:///./src/assets/images/checked.svg","webpack:///./src/components/ModalEmailSuccess.js","webpack:///./src/components/ReceiveNewPosts.js","webpack:///./src/pages/index.js"],"names":["module","exports","styled","div","button","form","span","input","IndexPage","posts","data","allContentfulPost","edges","principalPost","find","item","node","type","normalPost","filter","indexPosts","categories","map","category","arr","unique","i","length","indexOf","push","removeCategoriesDuplicates","listCategoriesNoRepeat","index","title","ContainerSection","to","slug","ImageFeature","src","imagePost","fluid","srcSet","alt","ContainerFirstPost","TitlePost","ReadPost","content","json","value","substring","ContainerPosts","Post","linkTo","key","image","titlePost","text","Container","img","Link","pageQuery"],"mappings":"4EAAAA,EAAOC,QAAU,8kC,wKCsBQC,IAAOC,IAAV,sFAAGD,CAAH,qMAkBJA,IAAOC,IAAV,+EAAGD,CAAH,wJAWEA,IAAOC,IAAV,8EAAGD,CAAH,+DASEA,IAAOC,IAAV,6EAAGD,CAAH,kMAaMA,IAAOC,IAAV,gFAAGD,CAAH,kOAaQA,IAAOE,OAAV,qFAAGF,CAAH,qQ,UCUQA,IAAOG,KAAV,4FAAGH,CAAH,8EAOCA,IAAOI,KAAV,0FAAGJ,CAAH,8HAWCA,IAAOK,MAAV,wFAAGL,CAAH,uPAgBIA,IAAOE,OAAV,yFAAGF,CAAH,2PAqBFA,IAAOC,IAAV,oFAAGD,CAAH,qC,0CCiBHM,UAzJG,SAAC,GAAc,IACzBC,EADwB,EAAXC,KACAC,kBAAkBC,MAC/BC,EAAgBJ,EAAMK,MAAK,SAAAC,GAC/B,MAA0B,aAAnBA,EAAKC,KAAKC,QAGbC,EAAaT,EAAMU,QAAO,SAAAJ,GAC9B,MAA0B,WAAnBA,EAAKC,KAAKC,QAGbG,EAAa,GAYnB,IAAMC,EAAaH,EAAWI,KAC5B,SAAAP,GAAI,OAAIA,EAAKC,KAAKO,SAASA,aAZ7B,SAAoCC,GAElC,IADA,IAAIC,EAAS,GACJC,EAAI,EAAGA,EAAIF,EAAIG,OAAQD,KACE,IAA5BD,EAAOG,QAAQJ,EAAIE,MACrBN,EAAWS,KAAKH,GAChBD,EAAOI,KAAKL,EAAIE,KAUtBI,CAA2BT,GAE3B,IAAMU,EAAyB,GAE/Bb,EAAWI,KAAI,SAACP,EAAMW,GACpBN,EAAWE,KAAI,SAAAU,GACTN,IAAMM,GACRD,EAAuBF,KAAKd,SA6DlC,OACE,kBAAC,IAAD,KACE,kBAAC,EAAD,KACE,kBAAC,IAAD,CACEkB,MAAM,oCAER,kBAACC,EAAD,KACE,6BACE,kBAAC,OAAD,CAAMC,GAAE,KAAOtB,EAAcG,KAAKoB,MAChC,kBAACC,EAAD,CACEC,IAAKzB,EAAcG,KAAKuB,UAAUC,MAAMF,IACxCG,OAAQ5B,EAAcG,KAAKuB,UAAUC,MAAMC,OAC3CC,IAAI,4BAIV,kBAACC,EAAD,KACE,kBAACC,EAAD,CAAWT,GAAE,KAAOtB,EAAcG,KAAKoB,MAASvB,EAAcG,KAAKiB,OACnE,kBAACY,EAAD,CAAWV,GAAE,KAAOtB,EAAcG,KAAKoB,MACpCvB,EAAcG,KAAK8B,QAAQC,KAAKD,QAAQ,GAAGA,QAAQ,GAAGE,MAAMrB,OAAS,IAASd,EAAcG,KAAK8B,QAAQC,KAAKD,QAAQ,GAAGA,QAAQ,GAAGE,MAAMC,UACzI,EACA,IAFD,MAGQpC,EAAcG,KAAK8B,QAAQC,KAAKD,QAAQ,GAAGA,QAAQ,GAAGE,SAKrE,kBAACE,EAAD,KACGnB,EAAuBT,KAAI,SAACP,EAAMiB,GACjC,GAAIjB,EAAKC,KACP,OACE,kBAACmC,EAAA,EAAD,CACEC,OAAQrC,EAAKC,KAAKO,SAASA,SAC3Ba,KAAMrB,EAAKC,KAAKoB,KAChBiB,IAAKrB,EACLT,SACER,EAAKC,KAAKO,SAASA,SAErB+B,MACGvC,EAAKC,KAAKuB,UAAiBxB,EAAKC,KAAKuB,UAAUC,MAAMC,OAA/B,GAEzBc,UAAWxC,EAAKC,KAAKiB,MACrBuB,KAAMzC,EAAKC,KAAK8B,QAAQC,KAAKD,QAAQ,GAAGA,QAAQ,GAAGE,MAAMrB,OAAS,IAAQZ,EAAKC,KAAK8B,QAAQC,KAAKD,QAAQ,GAAGA,QAAQ,GAAGE,MAAMC,UAC3H,EACA,KAFI,MAGGlC,EAAKC,KAAK8B,QAAQC,KAAKD,QAAQ,GAAGA,QAAQ,GAAGE,eA3IxE,IA2JMS,EAAYvD,IAAOC,IAAV,uEAAGD,CAAH,iDAMTgC,EAAmBhC,IAAOC,IAAV,8EAAGD,CAAH,iNAehBgD,EAAiBhD,IAAOC,IAAV,4EAAGD,CAAH,gPAiBdmC,EAAenC,IAAOwD,IAAV,0EAAGxD,CAAH,oIAiBZyC,GAP0BzC,IAAOC,IAAV,qFAAGD,CAAH,qFAOFA,IAAOC,IAAV,gFAAGD,CAAH,iEAMlB0C,EAAY1C,YAAOyD,QAAV,uEAAGzD,CAAH,kJAYT2C,EAAW3C,YAAOyD,QAAV,sEAAGzD,CAAH,8FASD0D,EAAS","file":"component---src-pages-index-js-7e8480199c45ab602f40.js","sourcesContent":["module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgZmlsbD0iI2Y0YzRmMyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiCgkgdmlld0JveD0iMCAwIDQyNi42NjcgNDI2LjY2NyIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDI2LjY2NyA0MjYuNjY3OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxwYXRoIHN0eWxlPSJmaWxsOiNmNGM0ZjM7IiBkPSJNMjEzLjMzMywwQzk1LjUxOCwwLDAsOTUuNTE0LDAsMjEzLjMzM3M5NS41MTgsMjEzLjMzMywyMTMuMzMzLDIxMy4zMzMKCWMxMTcuODI4LDAsMjEzLjMzMy05NS41MTQsMjEzLjMzMy0yMTMuMzMzUzMzMS4xNTcsMCwyMTMuMzMzLDB6IE0xNzQuMTk5LDMyMi45MThsLTkzLjkzNS05My45MzFsMzEuMzA5LTMxLjMwOWw2Mi42MjYsNjIuNjIyCglsMTQwLjg5NC0xNDAuODk4bDMxLjMwOSwzMS4zMDlMMTc0LjE5OSwzMjIuOTE4eiIvPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8L3N2Zz4K\"","import React from \"react\"\nimport styled from \"styled-components\"\n\nimport Check from \"../assets/images/checked.svg\"\n\nconst ModalEmailSuccess = props => {\n  return (\n    <ContainerOpacity style={props.displayModalEmailSuccess}>\n      <Container>\n        <BoxImage>\n          <img src={Check} alt=\"icon-checked\" />\n        </BoxImage>\n        <Message>{props.message}</Message>\n        <SubMessage>{props.subMessage}</SubMessage>\n        <ContainerButton onClick={props.closeModalSuccess}>OK</ContainerButton>\n      </Container>\n    </ContainerOpacity>\n  )\n}\n\nexport default ModalEmailSuccess\n\nconst ContainerOpacity = styled.div`\n  opacity: 0;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  width: 100%;\n  position: fixed;\n  height: 9999px;\n  z-index: 999;\n  background: rgba(0, 0, 0, 0.4);\n  padding: 0 1em;\n  @media (max-height: 700px) {\n    position: absolute;\n    height: 800px;\n  }\n`\n\nconst Container = styled.div`\n  width: 100%;\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 8em;\n  background: #fff;\n  max-width: 480px;\n  border-radius: 0.3em;\n`\nconst BoxImage = styled.div`\n  margin: 1.5em;\n  img {\n    width: 88px;\n    height: 88px;\n    margin-bottom: 0;\n  }\n`\n\nconst Message = styled.div`\n  width: 100%;\n  padding: 1em;\n  text-align: center;\n  color: rgba(0, 0, 0, 0.65);\n  font-weight: 600;\n  text-transform: none;\n  padding: 13px 16px;\n  font-size: 27px;\n  line-height: normal;\n  margin-bottom: 0;\n  margin-bottom: 0.3em;\n`\nconst SubMessage = styled.div`\n  text-align: center;\n  font-size: 16px;\n  line-height: normal;\n  vertical-align: top;\n  margin-bottom: 0.5em;\n  padding: 0 10px;\n  font-weight: 400;\n  color: rgba(0, 0, 0, 0.64);\n  max-width: calc(100% - 20px);\n  overflow-wrap: break-word;\n  box-sizing: border-box;\n`\nconst ContainerButton = styled.button`\n  margin: 1em 1em 1.5em 1em;\n  background:#fc67fa;\n  opacity:.9;\n  color: #fff;\n  border: none;\n  box-shadow: none;\n  border-radius: 5px;\n  font-weight: 600;\n  font-size: 14px;\n  padding: 10px 24px;\n  cursor: pointer;\n  :focus {\n    outline: none;\n    box-shadow: 0 0 0 1px #fff, 0 0 0 3px rgba(43, 114, 165, 0.29);\n  }\n`\n","import React, { useState, useEffect } from \"react\"\nimport styled from \"styled-components\"\nimport ModalEmailSuccess from \"./ModalEmailSuccess\"\nimport {\n  transition,\n  cancelTransition,\n  styleTransitionDefault,\n  validEmail,\n} from \"../utils/helpers\"\n\nconst ReceiveNewPosts = props => {\n  const [email, setEmail] = useState(\"\")\n  const [displayModalEmailSuccess, setDisplayModalEmailSuccess] = useState(\n    styleTransitionDefault\n  )\n  const [emailErrors, setEmailErrors] = useState(\"\")\n\n  const onSuccess = () => {\n    setEmail(\"\")\n    setEmailErrors(\"\")\n    setDisplayModalEmailSuccess(transition)\n  }\n\n  const submitValues = event => {\n    event.preventDefault()\n    const result = validEmail.test(email)\n    if (!email) {\n      setEmailErrors(\"Email é obrigatório.\")\n    }\n    if (result === true) {\n      onSuccess()\n    }\n  }\n\n  useEffect(() => {\n    const valid = validEmail.test(email)\n    if (valid === true) {\n      return setEmailErrors(\"\")\n    }\n  }, [email, emailErrors])\n\n  const validInput = () => {\n    const valid = validEmail.test(email)\n    if (valid === false) {\n      return setEmailErrors(\"Entre com email válido.\")\n    }\n  }\n\n  const actionCancelTransition = () => {\n    setDisplayModalEmailSuccess(cancelTransition)\n    setTimeout(\n      () => setDisplayModalEmailSuccess({ marginLeft: \"-9999px\" }),\n      300\n      )\n    setEmailErrors(\"\")\n    setEmail(\"\")\n  }\n\n  return (\n    <ContainerSubmitEmail onSubmit={event => submitValues(event)}>\n      <MessageSubmitEmail>\n        Receba nossos novos artigos!\n      </MessageSubmitEmail>\n      <div>\n        <div style={{ lineHeight: 1, display: \"flex\" }}>\n          <InputSubmitEmail\n            type=\"email\"\n            placeholder=\"Digite seu email\"\n            value={email}\n            onChange={e => {\n              setEmail(e.target.value)\n              if(e.target.value.length > 1){\n                validInput()\n              }\n            }}\n          />\n          <ButtonSubmitEmail type=\"submit\">Enviar</ButtonSubmitEmail>\n        </div>\n        {emailErrors.length !== 0 ? (\n          <MessageError>{emailErrors}</MessageError>\n        ) : (\n          <div />\n        )}\n      </div>\n      <ModalEmailSuccess\n        displayModalEmailSuccess={displayModalEmailSuccess}\n        closeModalSuccess={() => actionCancelTransition()}\n        message=\"Sucesso\"\n        subMessage=\"Pode deixar, novos artigos serão enviados.\"\n      />\n    </ContainerSubmitEmail>\n  )\n}\n\nexport default ReceiveNewPosts\n\nconst ContainerSubmitEmail = styled.form`\n  margin-bottom: 3em;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n`\n\nconst MessageSubmitEmail = styled.span`\n  height: 100%;\n  font-size: 30px;\n  text-align: center;\n  color: #fc67fa;\n  margin-bottom: 1em;\n  @media (max-width: 600px) {\n    font-size: 1.2rem;\n  }\n`\n\nconst InputSubmitEmail = styled.input`\n  min-width: 400px;\n  width: 100%;\n  height: 53px;\n  border: 1px solid #9c9c9c;\n  background-color: #ffffff;\n  text-indent: 0.5em;\n  margin-right: 0.5em;\n  outline-color: #f4c4f3;\n  color: #888f98;\n  @media (min-width: 240px) and (max-width: 600px) {\n    min-width: 100px;\n    margin-right: 0;\n  }\n`\n\nconst ButtonSubmitEmail = styled.button`\n  width: 6em;\n  height: 53.3px;\n  border-radius: 2px;\n  background:#fc67fa;\n  opacity:.9;\n  color: #fff;\n  border: none;\n  outline: none;\n  cursor: pointer;\n  :hover {\n    background: #f4c4f3;\n    border: 3px solid #f4c4f3;\n    transition: 0.5s;\n  }\n  @media (max-width: 540px) {\n    width: 5em;\n    border-radius: 0px;\n  }\n`\n\nconst MessageError = styled.div`\n  margin-top: 0.5em;\n  color: #ff526f;\n`\n","import React from \"react\"\nimport { graphql } from \"gatsby\"\nimport styled from \"styled-components\"\nimport { Link } from \"@reach/router\"\nimport { BLOCKS, MARKS, INLINES } from \"@contentful/rich-text-types\"\nimport { documentToReactComponents } from \"@contentful/rich-text-react-renderer\"\n\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\nimport Post from \"../components/Blog/Post\"\nimport ReceiveNewPosts from \"../components/ReceiveNewPosts\"\nimport {\n  formatCategoryText,\n} from \"../utils/helpers\"\n\nconst IndexPage = ({ data }) => {\n  const posts = data.allContentfulPost.edges\n  const principalPost = posts.find(item => {\n    return item.node.type === \"feature1\"\n  })\n\n  const normalPost = posts.filter(item => {\n    return item.node.type === \"normal\"\n  })\n\n  const indexPosts = []\n  function removeCategoriesDuplicates(arr) {\n    let unique = []\n    for (let i = 0; i < arr.length; i++) {\n      if (unique.indexOf(arr[i]) === -1) {\n        indexPosts.push(i)\n        unique.push(arr[i])\n      }\n    }\n    return unique\n  }\n\n  const categories = normalPost.map(\n    item => item.node.category.category\n  )\n\n  removeCategoriesDuplicates(categories)\n\n  const listCategoriesNoRepeat = []\n\n  normalPost.map((item, i) => {\n    indexPosts.map(index => {\n      if (i === index) {\n        listCategoriesNoRepeat.push(item)\n      }\n    })\n  })\n\n  const getIndexOfUniqueCategory = category => {\n    const catgs = []\n    categories.filter((item, index) => {\n      if (item === category) {\n        catgs.push(index)\n      }\n    })\n    return catgs\n  }\n\n  // const getSlugPostsOfUniqueCategory = category => {\n  //   const postOfCategory = []\n  //   normalPost.map((item, index) => {\n  //     getIndexOfUniqueCategory(category).map(i => {\n  //       if (index === i) {\n  //         postOfCategory.push(item.node)\n  //       }\n  //     })\n  //   })\n  //   return postOfCategory\n  // }\n\n  // const optionsContent = {\n  //   renderNode: {\n  //     [INLINES.HYPERLINK]: node => {\n  //       const value = node.content.map(item => item.value)\n  //       return (\n  //         <a\n  //           style={{ textDecoration: \"underline\" }}\n  //           href={node.data.uri}\n  //           target=\"_blank\"\n  //           rel=\"noopener noreferrer\"\n  //         >\n  //           {value}\n  //         </a>\n  //       )\n  //     },\n  //     [BLOCKS.EMBEDDED_ASSET]: node => {\n  //       return (\n  //         <img\n  //           src={`${\n  //             !node.data.target.fields\n  //               ? \"\"\n  //               : node.data.target.fields.file[\"pt-BR\"].url\n  //           }`}\n  //           alt=\"blog-images\"\n  //         />\n  //       )\n  //     },\n  //     [BLOCKS.PARAGRAPH]: (node, text) => <p>{text}</p>,\n  //   },\n  //   renderMark: {\n  //     [MARKS.BOLD]: text => <b>{text}</b>,\n  //   },\n  // }\n\n  return (\n    <Layout>\n      <Container>\n        <SEO\n          title=\"Blog with gatsby and contentful\"\n        />\n        <ContainerSection>\n          <div>\n            <Link to={`p/${principalPost.node.slug}`}>\n              <ImageFeature\n                src={principalPost.node.imagePost.fluid.src}\n                srcSet={principalPost.node.imagePost.fluid.srcSet}\n                alt=\"principal-post-banner\"\n              />\n            </Link>\n          </div>\n          <ContainerFirstPost>\n            <TitlePost to={`p/${principalPost.node.slug}`}>{principalPost.node.title}</TitlePost>\n            <ReadPost  to={`p/${principalPost.node.slug}`}>{\n               principalPost.node.content.json.content[0].content[0].value.length > 110 ? `${principalPost.node.content.json.content[0].content[0].value.substring(\n                0,\n                85\n              )}...` : principalPost.node.content.json.content[0].content[0].value\n            }\n            </ReadPost>\n          </ContainerFirstPost>\n        </ContainerSection>\n        <ContainerPosts>\n          {listCategoriesNoRepeat.map((item, index) => {\n            if (item.node) {\n              return (\n                <Post\n                  linkTo={item.node.category.category}\n                  slug={item.node.slug}\n                  key={index}\n                  category={\n                    item.node.category.category\n                  }\n                  image={\n                    !item.node.imagePost ? \"\" : item.node.imagePost.fluid.srcSet\n                  }\n                  titlePost={item.node.title}\n                  text={item.node.content.json.content[0].content[0].value.length > 110 ?`${item.node.content.json.content[0].content[0].value.substring(\n                    0,\n                    110\n                  )}...` : item.node.content.json.content[0].content[0].value}\n                />\n              )\n            }\n          })}\n        </ContainerPosts>\n        {/* <ContainerReceiveNewPost>\n          <ReceiveNewPosts />\n        </ContainerReceiveNewPost> */}\n      </Container>\n    </Layout>\n  )\n}\n\nexport default IndexPage\n\nconst Container = styled.div`\n  padding: 2em;\n  margin: 0 auto;\n  max-width: 1300px;\n`\n\nconst ContainerSection = styled.div`\n  width: 100%;\n  display: grid;\n  grid-template-columns: 1fr .4fr;\n  align-items:center;\n  grid-gap: 44px;\n  @media (max-width: 1200px) {\n    grid-gap: 20px;\n    grid-template-columns: 1fr;\n  }\n  div > link > picture > source {\n    max-height: 260px;\n  }\n`\n\nconst ContainerPosts = styled.div`\n  margin-top: 3em;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  grid-gap: 30px;\n  margin-bottom: 2em;\n  @media (max-width: 1200px) {\n    margin-top: 4.5em;\n    grid-template-columns: 1fr 1fr;\n    grid-gap: 50px;\n  }\n  @media (max-width: 600px) {\n    /* margin-top: 3em; */\n    grid-template-columns: 1fr;\n  }\n`\n\nconst ImageFeature = styled.img`\n  max-height: 400px;\n  width: 100%;\n  @media (min-resolution: 2dppx), (min-device-pixel-ratio: 2) {\n    width: 100%;\n    height: 100%;\n    max-height: 400px;\n  }\n`\n\nconst ContainerReceiveNewPost = styled.div`\n  margin-top: 9em;\n  @media (min-width: 240px) and (max-width: 600px) {\n    margin-top: 11em;\n  }\n`\n\nconst ContainerFirstPost = styled.div`\n  display:flex;\n  flex-direction:column;\n  align-items:flex-start;\n`\n\nconst TitlePost = styled(Link)`\n  font-size:1.8rem;\n  line-height: 1;\n  font-weight:600;\n  color:#000;\n  margin-bottom:.3em;\n  text-decoration:none;\n  @media(max-width:600px){\n    font-size:1.2rem;\n  }\n`\n\nconst ReadPost = styled(Link)`\n  font-size:1rem;\n  color:#999;\n  text-decoration:none;\n  @media(max-width:600px){\n    font-size:.8rem;\n  }\n`\n\nexport const pageQuery = graphql`\n  query ContentfulAllBlogPosts {\n    allContentfulPost(sort: { fields: [createdAt], order: DESC }) {\n      edges {\n        node {\n          id\n          type\n          title\n          slug\n          category {\n            category\n          }\n          content {\n            json\n          }\n          author {\n            authorName\n            avatarAuthor {\n              fluid {\n                src\n              }\n            }\n          }\n          imagePost {\n            fluid {\n              srcSet\n              src\n            }\n          }\n          createdAt(formatString: \"MMMM D\")\n        }\n      }\n    }\n  }\n`\n"],"sourceRoot":""}